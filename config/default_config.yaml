project_name: "DeLillo_Topology"

data:
  input_dir: "artifacts/raw_texts"
  output_dir: "artifacts"
  texts_dir: "artifacts/texts"
  embeddings_dir: "artifacts/embeddings"
  tda_dir: "artifacts/tda"
  mapper_dir: "artifacts/mapper"
  results_dir: "artifacts/results"
  # 是否启用OCR作为PDF提取失败时的回退方案
  enable_ocr_fallback: true
  # OCR引擎路径（如果使用Tesseract）
  tesseract_path: null

text_extraction:
  # PDF提取库：'pdfminer' 或 'pymupdf'
  pdf_library: "pdfminer"
  # EPUB提取库：'ebooklib'
  epub_library: "ebooklib"
  # 最大句子数（0表示无限制）
  max_sentences: 0
  # 文本清理选项
  cleanup: true
  # 是否保留换行符
  preserve_linebreaks: false

nlp:
  model: "bert-base-cased"
  spacy_model: "en_core_web_sm"
  # 仅保留这些词性，大幅降噪
  keep_pos: ["NOUN", "PROPN", "ADJ", "VERB"]
  # 保留的依存关系（用于深度句法分析）
  keep_dependencies: ["nsubj", "nsubjpass", "dobj", "pobj", "ROOT", "amod", "acomp", "attr", "nmod", "compound"]
  # 是否使用依存句法分析（True）或仅词性过滤（False）
  use_dependency_analysis: true
  # 扩展停用词表
  extra_stopwords: ["said", "looked", "asked", "thing", "way", "time"]
  min_word_length: 3
  min_freq: 5
  # 是否使用上下文感知嵌入（True）或静态词嵌入（False）
  context_aware: true
  # 批处理大小
  batch_size: 32

embedding:
  # 嵌入模型名称
  model_name: "bert-base-cased"
  # 设备：'cuda', 'cpu', 或 'auto'
  device: "auto"
  # 是否使用GPU
  use_gpu: true
  # 最大序列长度
  max_length: 512
  # 是否平均池化（True）或使用[CLS]标记（False）
  mean_pooling: false

tda:
  # 采样策略：'maxmin' (覆盖) 或 'kmeans' (代表性)
  landmark_strategy: "kmeans" 
  n_landmarks: 512
  # 只提取持久度超过这个阈值的环，过滤噪音
  persistence_threshold: 0.05
  # 提取的环数量（用于多环分析）
  top_k_cycles: 5
  # 度量距离：'euclidean', 'cosine', 'manhattan'
  metric: "euclidean"
  # Vietoris-Rips复形的最大维度
  max_dim: 1
  # 采样稳定性验证：重复采样次数（用于稳定性检查）
  stability_n_runs: 3
  # 是否启用采样稳定性验证
  verify_stability: true

visualization:
  # Mapper参数
  mapper_neighbors: 15
  mapper_overlap: 0.5
  # UMAP降维参数
  umap_n_neighbors: 15
  umap_min_dist: 0.1
  umap_n_components: 2
  # DBSCAN聚类参数
  dbscan_eps: 0.5
  dbscan_min_samples: 10
  # 输出格式
  output_format: "html"
  # 是否生成摘要
  generate_summary: true

# 语义分析配置
semantics:
  # 概念词列表（用于语义锚定）
  concept_words: ["Void", "God", "Silence", "Technology", "Nothingness", "Death", "Time", "Screen"]
  # 语义距离度量：'euclidean' 或 'cosine'
  distance_metric: "euclidean"
  # 异质性阈值（用于分类环类型）
  heterogeneity_threshold: 0.5
  # 语义锚定中返回的最近概念词数量
  top_k_concepts: 3

# 动态分析配置（滑动窗口）
dynamics:
  # 滑动窗口大小（词数）
  window_size: 5000
  # 窗口步长（词数）
  step_size: 1000
  # 是否启用滑动窗口分析
  enable_sliding_window: false
  # 最小窗口持久度阈值
  min_window_persistence: 0.05

# 对比实验配置
comparison:
  # 对照组作者列表（用于对比分析）
  control_authors: []
  # 是否生成打乱文本（用于验证结构真实性）
  generate_shuffled: false
  # 统计显著性检验的置信水平
  significance_level: 0.05

logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  log_file: null  # 如果设置，日志将写入文件